# ğŸŒ± VIVOSUN Thermo Dashboard â€“ Internal Development Blueprint

**Version:** 2025-10-29  
**Author:** Dominik Rosenthal (Hackintosh1980)  
**Scope:** Multi-platform Open BLE Dashboard Ecosystem  
**Core Technologies:** Kivy, Kivy-Garden Graph, PyJNIUS (Java Bridge), Buildozer/p4a, Bleak  
**Target Platforms:** Android, Linux, macOS, Windows

---

## 1. Gesamtidee

Das Projekt â€VIVOSUN Thermo Dashboardâ€œ dient als **offene, serverunabhÃ¤ngige Monitoring-Plattform** fÃ¼r BLE-basierte Sensorik (VIVOSUN THB-1S u.a.).  
Die App basiert auf **lokaler Airdump-Technologie** (direktes passives BLE-Parsing, kein Pairing oder Cloud-Traffic)  
und kann vollstÃ¤ndig offline betrieben werden.  

> ğŸ’¡ Ziel ist die Freiheit, ausgelesene Sensordaten ohne Hersteller-Server, API-Limitierung oder AbhÃ¤ngigkeit auszuwerten.

---

## 2. Systemarchitektur

### 2.1 KomponentenÃ¼bersicht

| Modul | Beschreibung | Sprache / Layer |
|-------|---------------|----------------|
| **Dashboard GUI** | Haupt-Interface mit 6 Tiles (Temp/Hum/VPD in/out + Signal) | Kivy (.kv + Python) |
| **Dashboard Charts** | Kivy-Garden Graph Layer, optimiert fÃ¼r Neon-Curves & Real-Time-Redraw | Python (kivy_garden.graph) |
| **Async BLE Reader** | Hintergrund-Thread zum passiven Scannen + Parsing von ThermoBeacon2-Paketen | Python (asyncio / bleak) |
| **BLE Bridge (Android)** | Java-Class via PyJNIUS fÃ¼r natives Scanning (runnable unter API29â€“33) | Java / JNI |
| **Setup GUI** | GerÃ¤teauswahl, Reset, Bridge-Test, Log-View | Kivy Sub-Screen |
| **Config Manager** | Speicherung von Offsets, Device-ID, zuletzt verbundenem Sensor | JSON-/CSV-based |
| **Status Controller** | Heartbeat, LED-Status, Bridge Polling-Indikator | Python background logic |

---

## 3. Datenfluss & Ablauf

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BLE Beacon â”‚  (Airdump Mode)
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Java BLEBridgeâ”‚ â€“ decodes manufacturer data (0x0019)
â”‚ â†’ writes ble_scan.json â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ async_reader â”‚
â”‚ parses JSON  â”‚
â”‚ updates live buffers â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard GUIâ”‚
â”‚ plots + text â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
